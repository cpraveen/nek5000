 // 
 // Sharp NACA 0012 Profile
 // 
 //

// Uncomment following two lines to generate 8 node quadrilaterals
Mesh.ElementOrder = 2;
Mesh.SecondOrderIncomplete = 1;
//Mesh.Smoothing = 5;
//Mesh.HighOrderOptimize = 1;
 
n1 = 21;  // no. of points along airfoil (1st part) containing trailing edge 
n2 = 11;  // no. of points normal to airfoil 
n3 = 101;  //no. of points in the wake
n4 = 11; // no. of points along airfoil (2nd part) containing leading edge

//Progression ratios
p1 = 1.10; // along the airfoil (1st part) containing trailing edge
p2 = 0.85;  // along the airfoil (2nd part) containing leading edge
p3 = 1.25;  // normal to airfoil
p4 = 1.02; //  along the wake

H = 0.5;  // Height parameter for transfinite region
Hf = 10.0;   // Height of farfield boundary
Lf = 20.0;  // Length of farfield boundary from leading edge

//Mesh parameters
ms1 = 1.0E-02;
ms2 = 0.2; // wake outlet
ms3 = 2.0E-02;
ms4 = 2.0;

// angle of attack
alpha = 10;
alpha = (Pi * alpha) /180;

x_te = 1.0; // x coordinate of trailing edge
y_te = 0.0; // y coordinate of trailing edge

//NACA0012 surface points
Point(1) = { 1.000000000000000E+00,0.000000000000000E+00, 0., ms1};
Point(2) = { 9.970300197601318E-01,-4.207300080452114E-04, 0., ms2};
Point(3) = { 9.937499761581421E-01,-8.835400221869349E-04, 0., ms2};
Point(4) = { 9.901300072669983E-01,-1.392400008626282E-03, 0., ms2};
Point(5) = { 9.861299991607666E-01,-1.951699960045516E-03, 0., ms2};
Point(6) = { 9.817100167274475E-01,-2.566199982538819E-03, 0., ms2};
Point(7) = { 9.768300056457520E-01,-3.240799997001886E-03, 0., ms2};
Point(8) = { 9.714400172233582E-01,-3.981099929660559E-03, 0., ms2};
Point(9) = { 9.654899835586548E-01,-4.792999941855669E-03, 0., ms2};
Point(10) = { 9.589200019836426E-01,-5.682699847966433E-03, 0., ms2};
Point(11) = { 9.516599774360657E-01,-6.657199934124947E-03, 0., ms2};
Point(12) = { 9.436399936676025E-01,-7.723500020802021E-03, 0., ms2};
Point(13) = { 9.347800016403198E-01,-8.889400400221348E-03, 0., ms2};
Point(14) = { 9.250000119209290E-01,-1.016299985349178E-02, 0., ms2};
Point(15) = { 9.142000079154968E-01,-1.155200041830540E-02, 0., ms2};
Point(16) = { 9.022700190544128E-01,-1.306699961423874E-02, 0., ms2};
Point(17) = { 8.890900015830994E-01,-1.471399981528521E-02, 0., ms2};
Point(18) = { 8.745399713516235E-01,-1.650499925017357E-02, 0., ms2};
Point(19) = { 8.584600090980530E-01,-1.844800077378750E-02, 0., ms2};
Point(20) = { 8.416299819946289E-01,-2.044299989938736E-02, 0., ms2};
Point(21) = { 8.249099850654602E-01,-2.238800004124641E-02, 0., ms2};
Point(22) = { 8.082900047302246E-01,-2.428100071847439E-02, 0., ms2};
Point(23) = { 7.917699813842773E-01,-2.612599916756153E-02, 0., ms2};
Point(24) = { 7.753499746322632E-01,-2.792399935424328E-02, 0., ms2};
Point(25) = { 7.590299844741821E-01,-2.967499941587448E-02, 0., ms2};
Point(26) = { 7.428100109100342E-01,-3.138099983334541E-02, 0., ms2};
Point(27) = { 7.266700267791748E-01,-3.304199874401093E-02, 0., ms2};
Point(28) = { 7.106199860572815E-01,-3.465899825096130E-02, 0., ms2};
Point(29) = { 6.946499943733215E-01,-3.623199835419655E-02, 0., ms2};
Point(30) = { 6.787599921226501E-01,-3.776200115680695E-02, 0., ms2};
Point(31) = { 6.629499793052673E-01,-3.924899920821190E-02, 0., ms2};
Point(32) = { 6.472100019454956E-01,-4.069200158119202E-02, 0., ms2};
Point(33) = { 6.315400004386902E-01,-4.209100082516670E-02, 0., ms2};
Point(34) = { 6.159300208091736E-01,-4.344699904322624E-02, 0., ms2};
Point(35) = { 6.003900170326233E-01,-4.475900158286095E-02, 0., ms2};
Point(36) = { 5.849099755287170E-01,-4.602500051259995E-02, 0., ms2};
Point(37) = { 5.694800019264221E-01,-4.724600166082382E-02, 0., ms2};
Point(38) = { 5.541099905967712E-01,-4.842000082135201E-02, 0., ms2};
Point(39) = { 5.387799739837646E-01,-4.954700171947479E-02, 0., ms2};
Point(40) = { 5.235000252723694E-01,-5.062500014901161E-02, 0., ms2};
Point(41) = { 5.082700252532959E-01,-5.165300145745277E-02, 0., ms2};
Point(42) = { 4.930700063705444E-01,-5.262900143861771E-02, 0., ms2};
Point(43) = { 4.778999984264374E-01,-5.355200171470642E-02, 0., ms2};
Point(44) = { 4.627699851989746E-01,-5.441899970173836E-02, 0., ms2};
Point(45) = { 4.476700127124786E-01,-5.522900074720383E-02, 0., ms2};
Point(46) = { 4.325900077819824E-01,-5.597800016403198E-02, 0., ms2};
Point(47) = { 4.175300002098083E-01,-5.666499957442284E-02, 0., ms2};
Point(48) = { 4.024899899959564E-01,-5.728600174188614E-02, 0., ms2};
Point(49) = { 3.874700069427490E-01,-5.783800035715103E-02, 0., ms2};
Point(50) = { 3.724600076675415E-01,-5.831800028681755E-02, 0., ms2};
Point(51) = { 3.574599921703339E-01,-5.872299894690514E-02, 0., ms2};
Point(52) = { 3.424600064754486E-01,-5.904699862003326E-02, 0., ms2};
Point(53) = { 3.274700045585632E-01,-5.928599834442139E-02, 0., ms2};
Point(54) = { 3.124699890613556E-01,-5.943400040268898E-02, 0., ms2};
Point(55) = { 2.974700033664703E-01,-5.948600172996521E-02, 0., ms2};
Point(56) = { 2.824699878692627E-01,-5.943600088357925E-02, 0., ms2};
Point(57) = { 2.674500048160553E-01,-5.927500128746033E-02, 0., ms2};
Point(58) = { 2.524299919605255E-01,-5.899700149893761E-02, 0., ms2};
Point(59) = { 2.373899966478348E-01,-5.859300121665001E-02, 0., ms2};
Point(60) = { 2.223400026559830E-01,-5.804999917745590E-02, 0., ms2};
Point(61) = { 2.072599977254868E-01,-5.735800042748451E-02, 0., ms2};
Point(62) = { 1.921699941158295E-01,-5.650499835610390E-02, 0., ms2};
Point(63) = { 1.770599931478500E-01,-5.547099933028221E-02, 0., ms2};
Point(64) = { 1.619299948215485E-01,-5.423900112509727E-02, 0., ms2};
Point(65) = { 1.467899978160858E-01,-5.278500169515610E-02, 0., ms2};
Point(66) = { 1.322900056838989E-01,-5.116200074553490E-02, 0., ms2};
Point(67) = { 1.190399974584579E-01,-4.945399984717369E-02, 0., ms2};
Point(68) = { 1.069300025701523E-01,-4.768000170588493E-02, 0., ms2};
Point(69) = { 9.586799889802933E-02,-4.585599899291992E-02, 0., ms2};
Point(70) = { 8.577000349760056E-02,-4.399599879980087E-02, 0., ms2};
Point(71) = { 7.655599713325500E-02,-4.211099818348885E-02, 0., ms2};
Point(72) = { 6.815300136804581E-02,-4.021200165152550E-02, 0., ms2};
Point(73) = { 6.049599871039391E-02,-3.830600157380104E-02, 0., ms2};
Point(74) = { 5.352399870753288E-02,-3.640000149607658E-02, 0., ms2};
Point(75) = { 4.718200117349625E-02,-3.449999913573265E-02, 0., ms2};
Point(76) = { 4.142000153660774E-02,-3.260999917984009E-02, 0., ms2};
Point(77) = { 3.619199991226196E-02,-3.073300048708916E-02, 0., ms2};
Point(78) = { 3.145699948072433E-02,-2.887200005352497E-02, 0., ms2};
Point(79) = { 2.717700041830540E-02,-2.702900022268295E-02, 0., ms2};
Point(80) = { 2.331699989736080E-02,-2.520499937236309E-02, 0., ms2};
Point(81) = { 1.984800025820732E-02,-2.340300008654594E-02, 0., ms2};
Point(82) = { 1.673999987542629E-02,-2.162200026214123E-02, 0., ms2};
Point(83) = { 1.396999973803759E-02,-1.986500062048435E-02, 0., ms2};
Point(84) = { 1.151499990373850E-02,-1.813299953937531E-02, 0., ms2};
Point(85) = { 9.355300106108189E-03,-1.642799936234951E-02, 0., ms2};
Point(86) = { 7.471399847418070E-03,-1.475299987941980E-02, 0., ms2};
Point(87) = { 5.847000051289797E-03,-1.311200018972158E-02, 0., ms2};
Point(88) = { 4.466100130230188E-03,-1.151099987328053E-02, 0., ms2};
Point(89) = { 3.312600078061223E-03,-9.954700246453285E-03, 0., ms2};
Point(90) = { 2.369200112298131E-03,-8.452000096440315E-03, 0., ms2};
Point(91) = { 1.617899979464710E-03,-7.011000066995621E-03, 0., ms2};
Point(92) = { 1.039199996739626E-03,-5.639600101858377E-03, 0., ms2};
Point(93) = { 6.129799876362085E-04,-4.344400018453598E-03, 0., ms2};
Point(94) = { 3.168400144204497E-04,-3.131099976599216E-03, 0., ms2};
Point(95) = { 1.291899970965460E-04,-2.002600114792585E-03, 0., ms2};
Point(96) = { 2.965000021504238E-05,-9.594199946150184E-04, 0., ms2};
Point(97) = { 0.000000000000000E+00,0.000000000000000E+00, 0., ms2};
Point(98) = { 2.965000021504238E-05,9.594199946150184E-04, 0., ms2};
Point(99) = { 1.291899970965460E-04,2.002600114792585E-03, 0., ms2};
Point(100) = { 3.168400144204497E-04,3.131099976599216E-03, 0., ms2};
Point(101) = { 6.129799876362085E-04,4.344400018453598E-03, 0., ms2};
Point(102) = { 1.039199996739626E-03,5.639600101858377E-03, 0., ms2};
Point(103) = { 1.617899979464710E-03,7.011000066995621E-03, 0., ms2};
Point(104) = { 2.369200112298131E-03,8.452000096440315E-03, 0., ms2};
Point(105) = { 3.312600078061223E-03,9.954700246453285E-03, 0., ms2};
Point(106) = { 4.466100130230188E-03,1.151099987328053E-02, 0., ms2};
Point(107) = { 5.847000051289797E-03,1.311200018972158E-02, 0., ms2};
Point(108) = { 7.471399847418070E-03,1.475299987941980E-02, 0., ms2};
Point(109) = { 9.355300106108189E-03,1.642799936234951E-02, 0., ms2};
Point(110) = { 1.151499990373850E-02,1.813299953937531E-02, 0., ms2};
Point(111) = { 1.396999973803759E-02,1.986500062048435E-02, 0., ms2};
Point(112) = { 1.673999987542629E-02,2.162200026214123E-02, 0., ms2};
Point(113) = { 1.984800025820732E-02,2.340300008654594E-02, 0., ms2};
Point(114) = { 2.331699989736080E-02,2.520499937236309E-02, 0., ms2};
Point(115) = { 2.717700041830540E-02,2.702900022268295E-02, 0., ms2};
Point(116) = { 3.145699948072433E-02,2.887200005352497E-02, 0., ms2};
Point(117) = { 3.619199991226196E-02,3.073300048708916E-02, 0., ms2};
Point(118) = { 4.142000153660774E-02,3.260999917984009E-02, 0., ms2};
Point(119) = { 4.718200117349625E-02,3.449999913573265E-02, 0., ms2};
Point(120) = { 5.352399870753288E-02,3.640000149607658E-02, 0., ms2};
Point(121) = { 6.049599871039391E-02,3.830600157380104E-02, 0., ms2};
Point(122) = { 6.815300136804581E-02,4.021200165152550E-02, 0., ms2};
Point(123) = { 7.655599713325500E-02,4.211099818348885E-02, 0., ms2};
Point(124) = { 8.577000349760056E-02,4.399599879980087E-02, 0., ms2};
Point(125) = { 9.586799889802933E-02,4.585599899291992E-02, 0., ms2};
Point(126) = { 1.069300025701523E-01,4.768000170588493E-02, 0., ms2};
Point(127) = { 1.190399974584579E-01,4.945399984717369E-02, 0., ms2};
Point(128) = { 1.322900056838989E-01,5.116200074553490E-02, 0., ms2};
Point(129) = { 1.467899978160858E-01,5.278500169515610E-02, 0., ms2};
Point(130) = { 1.619299948215485E-01,5.423900112509727E-02, 0., ms2};
Point(131) = { 1.770599931478500E-01,5.547099933028221E-02, 0., ms2};
Point(132) = { 1.921699941158295E-01,5.650499835610390E-02, 0., ms2};
Point(133) = { 2.072599977254868E-01,5.735800042748451E-02, 0., ms2};
Point(134) = { 2.223400026559830E-01,5.804999917745590E-02, 0., ms2};
Point(135) = { 2.373899966478348E-01,5.859300121665001E-02, 0., ms2};
Point(136) = { 2.524299919605255E-01,5.899700149893761E-02, 0., ms2};
Point(137) = { 2.674500048160553E-01,5.927500128746033E-02, 0., ms2};
Point(138) = { 2.824699878692627E-01,5.943600088357925E-02, 0., ms2};
Point(139) = { 2.974700033664703E-01,5.948600172996521E-02, 0., ms2};
Point(140) = { 3.124699890613556E-01,5.943400040268898E-02, 0., ms2};
Point(141) = { 3.274700045585632E-01,5.928599834442139E-02, 0., ms2};
Point(142) = { 3.424600064754486E-01,5.904699862003326E-02, 0., ms2};
Point(143) = { 3.574599921703339E-01,5.872299894690514E-02, 0., ms2};
Point(144) = { 3.724600076675415E-01,5.831800028681755E-02, 0., ms2};
Point(145) = { 3.874700069427490E-01,5.783800035715103E-02, 0., ms2};
Point(146) = { 4.024899899959564E-01,5.728600174188614E-02, 0., ms2};
Point(147) = { 4.175300002098083E-01,5.666499957442284E-02, 0., ms2};
Point(148) = { 4.325900077819824E-01,5.597800016403198E-02, 0., ms2};
Point(149) = { 4.476700127124786E-01,5.522900074720383E-02, 0., ms2};
Point(150) = { 4.627699851989746E-01,5.441899970173836E-02, 0., ms2};
Point(151) = { 4.778999984264374E-01,5.355200171470642E-02, 0., ms2};
Point(152) = { 4.930700063705444E-01,5.262900143861771E-02, 0., ms2};
Point(153) = { 5.082700252532959E-01,5.165300145745277E-02, 0., ms2};
Point(154) = { 5.235000252723694E-01,5.062500014901161E-02, 0., ms2};
Point(155) = { 5.387799739837646E-01,4.954700171947479E-02, 0., ms2};
Point(156) = { 5.541099905967712E-01,4.842000082135201E-02, 0., ms2};
Point(157) = { 5.694800019264221E-01,4.724600166082382E-02, 0., ms2};
Point(158) = { 5.849099755287170E-01,4.602500051259995E-02, 0., ms2};
Point(159) = { 6.003900170326233E-01,4.475900158286095E-02, 0., ms2};
Point(160) = { 6.159300208091736E-01,4.344699904322624E-02, 0., ms2};
Point(161) = { 6.315400004386902E-01,4.209100082516670E-02, 0., ms2};
Point(162) = { 6.472100019454956E-01,4.069200158119202E-02, 0., ms2};
Point(163) = { 6.629499793052673E-01,3.924899920821190E-02, 0., ms2};
Point(164) = { 6.787599921226501E-01,3.776200115680695E-02, 0., ms2};
Point(165) = { 6.946499943733215E-01,3.623199835419655E-02, 0., ms2};
Point(166) = { 7.106199860572815E-01,3.465899825096130E-02, 0., ms2};
Point(167) = { 7.266700267791748E-01,3.304199874401093E-02, 0., ms2};
Point(168) = { 7.428100109100342E-01,3.138099983334541E-02, 0., ms2};
Point(169) = { 7.590299844741821E-01,2.967499941587448E-02, 0., ms2};
Point(170) = { 7.753499746322632E-01,2.792399935424328E-02, 0., ms2};
Point(171) = { 7.917699813842773E-01,2.612599916756153E-02, 0., ms2};
Point(172) = { 8.082900047302246E-01,2.428100071847439E-02, 0., ms2};
Point(173) = { 8.249099850654602E-01,2.238800004124641E-02, 0., ms2};
Point(174) = { 8.416299819946289E-01,2.044299989938736E-02, 0., ms2};
Point(175) = { 8.584600090980530E-01,1.844800077378750E-02, 0., ms2};
Point(176) = { 8.745399713516235E-01,1.650499925017357E-02, 0., ms2};
Point(177) = { 8.890900015830994E-01,1.471399981528521E-02, 0., ms2};
Point(178) = { 9.022700190544128E-01,1.306699961423874E-02, 0., ms2};
Point(179) = { 9.142000079154968E-01,1.155200041830540E-02, 0., ms2};
Point(180) = { 9.250000119209290E-01,1.016299985349178E-02, 0., ms2};
Point(181) = { 9.347800016403198E-01,8.889400400221348E-03, 0., ms2};
Point(182) = { 9.436399936676025E-01,7.723500020802021E-03, 0., ms2};
Point(183) = { 9.516599774360657E-01,6.657199934124947E-03, 0., ms2};
Point(184) = { 9.589200019836426E-01,5.682699847966433E-03, 0., ms2};
Point(185) = { 9.654899835586548E-01,4.792999941855669E-03, 0., ms2};
Point(186) = { 9.714400172233582E-01,3.981099929660559E-03, 0., ms2};
Point(187) = { 9.768300056457520E-01,3.240799997001886E-03, 0., ms2};
Point(188) = { 9.817100167274475E-01,2.566199982538819E-03, 0., ms2};
Point(189) = { 9.861299991607666E-01,1.951699960045516E-03, 0., ms2};
Point(190) = { 9.901300072669983E-01,1.392400008626282E-03, 0., ms2};
Point(191) = { 9.937499761581421E-01,8.835400221869349E-04, 0., ms2};
Point(192) = { 9.970300197601318E-01,4.207300080452114E-04, 0., ms2};
//

// NACA0012 transfinite boundary points 
For i In {1:192}
    
    p[]=Point{i};

    param = (192 - i) * Pi / 190;
    x = p[0] - H * Sin(param);
    y = p[1] + H * Cos(param); 

    Point(199+i) = {x , y,  0.0 , ms3};
EndFor

Line(1) = {
  1,  2,  3,  4,  5,  6,  7,  8,
  9, 10, 11, 12, 13, 14, 15, 16,
 17, 18, 19, 20, 21, 22, 23, 24,
 25, 26, 27, 28, 29, 30, 31, 32,
 33, 34, 35, 36, 37, 38, 39, 40,
 41, 42, 43, 44, 45, 46, 47, 48,
 49, 50, 51, 52, 53, 54, 55, 56,
 57};

//
Line(2) = { 
 57, 58, 59, 60, 61, 62, 63, 64,
 65, 66, 67, 68, 69, 70, 71, 72,
 73, 74, 75, 76, 77, 78, 79, 80,
 81, 82, 83, 84, 85, 86, 87, 88,
 89, 90, 91, 92, 93, 94, 95, 96,
 97};

//
Line(3) = {
 97, 98, 99,100,101,102,103,104,
105,106,107,108,109,110,111,112,
113,114,115,116,117,118,119,120,
121,122,123,124,125,126,127,128,
129,130,131,132,133,134,135,136,
137};
//
Line(4) = {
137,138,139,140,141,142,143,144,
145,146,147,148,149,150,151,152,
153,154,155,156,157,158,159,160,
161,162,163,164,165,166,167,168,
169,170,171,172,173,174,175,176,
177,178,179,180,181,182,183,184,
185,186,187,188,189,190,191,192,
1};
//

//
Line(6) = { 200,
201,202,203,204,205,206,207,208,
209,210,211,212,213,214,215,216,
217,218,219,220,221,222,223,224,
225,226,227,228,229,230,231,232,
233,234,235,236,237,238,239,240,
241,242,243};

//
Line(7) = { 243,244,245,246,247,248,
249,250,251,252,253,254,255,256,
257,258,259,260,261,262,263,264,
265,266,267,268,269,270,271,272,
273,274,275,276,277,278,279,280,
281,282,283,284,285,286,287,288,
289,290,291,292,293,294,295,296};
//
Line(8) = { 296,
297,298,299,300,301,302,303,304,
305,306,307,308,309,310,311,312,
313,314,315,316,317,318,319,320,
321,322,323,324,325,326,327,328,
329,330,331,332,333,334,335,336,
337,338,339,340,341,342,343,344,
345,346,347,348,349};
//
Line(9) = { 349,350,351,352,
353,354,355,356,357,358,359,360,
361,362,363,364,365,366,367,368,
369,370,371,372,373,374,375,376,
377,378,379,380,381,382,383,384,
385,386,387,388,389,390,391};
//


Line(10) = { 1,200 };
//Line(11) = { 1,392 };
Line(12) = { 1,391 };
//
// External boundary
//
Point(401) = { 0.00000E+00, Hf, 0., ms4};
Point(402) = { 0.00000E+00, 0.00000E+00, 0., ms4};
Point(403) = { 0.00000E+00,-Hf, 0., ms4};
Circle(13) = {401,402,403};
//

Delete {
  Point{402};
}

Point(404) = {Lf,-Hf,0., ms4};
Line(14) = {403,404};
//

p[] = Point{200};
Point(405) = {Lf, p[1],0., ms2};
Line(15) = {404,405};
//

Point(406) = {Lf, 0.0,0., ms2};
Line(16) = {405,406};

p[] = Point{391};
Point(407) = {Lf, p[1],0., ms2};
Line(17) = {406,407};

Point(408) = {Lf, Hf,0., ms4};
Line(18) = {407,408};

Line(19) = {408,401};
Line(20) = {200,405};
Line(21) = {1,406};
Line(22) = {391,407};

Line(23) = {97,296};
Line(24) = {137,349};
Line(25) = {57,243};

Line Loop(26) = {12,-9,-24,4};
Ruled Surface(27) = {26};
Transfinite Line {-4} = n1 Using Progression p1;
Transfinite Line {-9} = n1;
Transfinite Line {12,24} = n2 Using Progression p3;
Transfinite Surface(27) = {1,391,349,137};
Recombine Surface{27};

Line Loop(28) = {24,-8,-23,3};
Ruled Surface(29) = {28};
Transfinite Line {-3} = n4 Using Progression p2;
Transfinite Line {-8} = n4;
Transfinite Line {24,23} = n2 Using Progression p3;
Transfinite Surface(29) = {137,349,296,97};
Recombine Surface{29};

Line Loop(30) = {25,7,-23,-2};
Ruled Surface(31) = {30};
Transfinite Line {2} = n4 Using Progression p2;
Transfinite Line {7} = n4;
Transfinite Line {25,23} = n2 Using Progression p3;
Transfinite Surface(31) = {57,243,296,97};
Recombine Surface{31};

Line Loop(32) = {10,6,-25,-1};
Ruled Surface(33) = {32};
Transfinite Line {1} = n1 Using Progression p1;
Transfinite Line {6} = n1;
Transfinite Line {10,25} = n2 Using Progression p3;
Transfinite Surface(33) = {1,200,243,57};
Recombine Surface{33};

Line Loop(34) = {10,20,16,-21};
Ruled Surface(35) = {34};
Transfinite Line {21,20} = n3 Using Progression p4;
Transfinite Line {10,-16} = n2 Using Progression p3;
Transfinite Surface(35) = {1,200,405,406};
Recombine Surface{35};

Line Loop(36) = {-12,21,17,-22};
Ruled Surface(37) = {36};
Transfinite Line {21,22} = n3 Using Progression p4;
Transfinite Line {12,17} = n2 Using Progression p3;
Transfinite Surface(37) = {391,1,406,407};
Recombine Surface{37};

Line Loop(38) = {18,19,13,14,15,-20,6,7,8,9,22};
Plane Surface(39)={38};
Recombine Surface{39};

Rotate {{0, 0, 1}, {x_te, y_te, 0}, -alpha} {
  Surface{33, 31, 29, 27};
}

Physical Line(1) = {1,2,3,4}; //airfoil 
Physical Line(2) = {13};      // inlet
Physical Line(3) = {19,14};   // bottom and top
Physical Line(4) = {15,16,17,18}; // outlet

Physical Surface(10) = {-33,-31,29,27,37,35,39};
